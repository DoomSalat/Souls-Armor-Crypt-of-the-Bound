# –£–º–Ω—ã–π –ú–µ–Ω–µ–¥–∂–µ—Ä –°–ø–∞—É–Ω–∞ –í—Ä–∞–≥–æ–≤
## –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –°–ø–∞—É–Ω–∞

---

## üéØ –û–ë–ó–û–† –°–ò–°–¢–ï–ú–´

### –¢–µ–∫—É—â–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **8 —Å–µ–∫—Ç–æ—Ä–æ–≤ —Å–ø–∞—É–Ω–∞** –≤–æ–∫—Ä—É–≥ –∏–≥—Ä–æ–∫–∞ (–∫–∞–∂–¥—ã–π 45¬∞)
- **4 —Ç–∏–ø–∞ –≤—Ä–∞–≥–æ–≤**: Soul, SoulVase, Skelet, Knight
- **4 —Ç–∏–ø–∞ –¥—É—à**: Blue, Green, Red, Yellow
- **4 —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏**: 0, 1, 2, 3
- **–°–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–≤** –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º

---

## üß† –ü–†–ò–ù–¶–ò–ü–´ –£–ú–ù–û–ì–û –°–ü–ê–£–ù–ê

### 1. **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ –£—Ä–æ–≤–Ω—è–º**

#### **–£—Ä–æ–≤–µ–Ω—å 0 (–û—á–µ–Ω—å –õ–µ–≥–∫–∏–π)**
- **Soul**: 80% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1-2 –∑–∞ —Å–ø–∞—É–Ω
- **SoulVase**: 20% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1 –∑–∞ —Å–ø–∞—É–Ω
- **Skelet**: 0% (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
- **Knight**: 0% (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞—É–Ω–∞**: 8-12 —Å–µ–∫—É–Ω–¥

#### **–£—Ä–æ–≤–µ–Ω—å 1 (–õ–µ–≥–∫–∏–π)**
- **Soul**: 70% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1-3 –∑–∞ —Å–ø–∞—É–Ω
- **SoulVase**: 25% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1-2 –∑–∞ —Å–ø–∞—É–Ω
- **Skelet**: 5% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1 –∑–∞ —Å–ø–∞—É–Ω
- **Knight**: 0% (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞—É–Ω–∞**: 6-10 —Å–µ–∫—É–Ω–¥

#### **–£—Ä–æ–≤–µ–Ω—å 2 (–°—Ä–µ–¥–Ω–∏–π)**
- **Soul**: 50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 2-4 –∑–∞ —Å–ø–∞—É–Ω
- **SoulVase**: 30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1-2 –∑–∞ —Å–ø–∞—É–Ω
- **Skelet**: 15% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1 –∑–∞ —Å–ø–∞—É–Ω
- **Knight**: 5% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1 –∑–∞ —Å–ø–∞—É–Ω
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞—É–Ω–∞**: 4-8 —Å–µ–∫—É–Ω–¥

#### **–£—Ä–æ–≤–µ–Ω—å 3 (–°–ª–æ–∂–Ω—ã–π)**
- **Soul**: 40% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 2-5 –∑–∞ —Å–ø–∞—É–Ω
- **SoulVase**: 25% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1-3 –∑–∞ —Å–ø–∞—É–Ω
- **Skelet**: 20% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1-2 –∑–∞ —Å–ø–∞—É–Ω
- **Knight**: 15% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, 1 –∑–∞ —Å–ø–∞—É–Ω
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞—É–Ω–∞**: 3-6 —Å–µ–∫—É–Ω–¥

### 2. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –í—ã–±–æ—Ä –°–µ–∫—Ç–æ—Ä–æ–≤**

#### **–ê–ª–≥–æ—Ä–∏—Ç–º "–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è –°—Ç–æ—Ä–æ–Ω–∞"**
```csharp
// –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ SpawnerTokens
int oppositeSection = (lowestPowerSection + SectionCount / 2) % SectionCount;
int deviation = Random.Range(-_maxSectionDeviation, _maxSectionDeviation + 1);
int targetSection = (oppositeSection + deviation + SectionCount) % SectionCount;
```

#### **–£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –£–º–Ω–æ–≥–æ –°–ø–∞—É–Ω–∞**
- **–ê–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞**: –°–ø–∞—É–Ω –≤ "—Å–ª–µ–ø—ã—Ö –∑–æ–Ω–∞—Ö"
- **–£—á–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞**: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏**: –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º

### 3. **–ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–µ –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –í—Ä–∞–≥–æ–≤**

#### **–°–∏—Å—Ç–µ–º–∞ –°–∏–Ω–µ—Ä–≥–∏–∏**
```csharp
// –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ SpawnerTokens.SuggestComplementaryKind()
if (knight > 0 && skelet == 0) return EnemyKind.Skelet;      // –†—ã—Ü–∞—Ä—å + –°–∫–µ–ª–µ—Ç
if (skelet > 0 && knight == 0) return EnemyKind.Knight;      // –°–∫–µ–ª–µ—Ç + –†—ã—Ü–∞—Ä—å  
if (soul + vase > 2) return EnemyKind.Skelet;                 // –ú–Ω–æ–≥–æ –¥—É—à ‚Üí –°–∫–µ–ª–µ—Ç
```

#### **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏**
- **Soul + SoulVase**: –ë–∞–∑–æ–≤–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π
- **Skelet + Soul**: –î–∞–ª—å–Ω–∏–π –±–æ–π + –±–ª–∏–∂–Ω–∏–π –±–æ–π
- **Knight + Skelet**: –î–≤–∞ —Å–∏–ª—å–Ω—ã—Ö –≤—Ä–∞–≥–∞ (—Ç–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–∏ 2-3)
- **Soul + Soul + SoulVase**: –ì—Ä—É–ø–ø–æ–≤–∞—è –∞—Ç–∞–∫–∞

### 4. **–°–∏—Å—Ç–µ–º–∞ –ì–ª—é–∫–æ–≤ (–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è)**

#### **–ü—Ä–∏–Ω—Ü–∏–ø –†–∞–±–æ—Ç—ã**
–°–∏—Å—Ç–µ–º–∞ –≥–ª—é–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **–Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —à–∞–Ω—Å–∞** —Å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–º —Å–±—Ä–æ—Å–æ–º:

```csharp
// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –≥–ª—é–∫–æ–≤
[SerializeField, Range(0, 1)] private float _glitchAccumulationRate = 0.02f;  // 2% –∑–∞ –ø–µ—Ä–∏–æ–¥
[SerializeField, MinValue(1)] private Vector2 _glitchAccumulationTime = new(5f, 10f);  // 5-10 —Å–µ–∫—É–Ω–¥
[SerializeField, Range(0, 1)] private float _maxGlitchChance = 1f;  // –ú–∞–∫—Å–∏–º—É–º 100%

// –õ–æ–≥–∏–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è
private float _currentGlitchChance = 0f;
private float _nextAccumulationTime;

private void Update()
{
    if (_enableGlitchSystem && Time.time >= _nextAccumulationTime)
    {
        AccumulateGlitchChance();
    }
}

private void AccumulateGlitchChance()
{
    _currentGlitchChance += _glitchAccumulationRate;
    _currentGlitchChance = Mathf.Min(_currentGlitchChance, _maxGlitchChance);
    _nextAccumulationTime = Time.time + Random.Range(_glitchAccumulationTime.x, _glitchAccumulationTime.y);
}
```

#### **–ê–ª–≥–æ—Ä–∏—Ç–º –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è**
```csharp
public SpawnSection SelectSection()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª—é–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—ã—á–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
    if (_enableGlitchSystem && ShouldTriggerGlitch())
    {
        return (SpawnSection)Random.Range(0, SectionCount);  // –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª—É—á–∞–π–Ω—ã–π —Å–µ–∫—Ç–æ—Ä
    }
    
    // –û–±—ã—á–Ω–∞—è AI –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–µ–∫—Ç–æ—Ä–∞
    return SelectNewTargetSection();
}

private bool ShouldTriggerGlitch()
{
    bool shouldGlitch = Random.value < _currentGlitchChance;
    
    if (shouldGlitch)
    {
        // –ü–û–õ–ù–´–ô –°–ë–†–û–° –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏
        _currentGlitchChance = 0f;
        _nextAccumulationTime = Time.time + Random.Range(_glitchAccumulationTime.x, _glitchAccumulationTime.y);
    }
    
    return shouldGlitch;
}
```

#### **–ü—Ä–∏–º–µ—Ä –†–∞–±–æ—Ç—ã –°–∏—Å—Ç–µ–º—ã**
```
–í—Ä–µ–º—è: 0s   ‚Üí –®–∞–Ω—Å: 0%    (–Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
–í—Ä–µ–º—è: 7s   ‚Üí –®–∞–Ω—Å: 2%    (–ø–µ—Ä–≤–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ)
–í—Ä–µ–º—è: 12s  ‚Üí –®–∞–Ω—Å: 4%    (–≤—Ç–æ—Ä–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ)
–í—Ä–µ–º—è: 18s  ‚Üí –®–∞–Ω—Å: 6%    (—Ç—Ä–µ—Ç—å–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ)
–í—Ä–µ–º—è: 20s  ‚Üí –ì–õ–Æ–ö!       (—Å—Ä–∞–±–æ—Ç–∞–ª, —à–∞–Ω—Å —Å–±—Ä–æ—à–µ–Ω –≤ 0%)
–í—Ä–µ–º—è: 25s  ‚Üí –®–∞–Ω—Å: 2%    (–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ—Å—å –∑–∞–Ω–æ–≤–æ)
```

#### **–ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**
- **–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø**: –®–∞–Ω—Å —Ä–∞—Å—Ç–µ—Ç –∫–∞–∂–¥—ã–µ 5-10 —Å–µ–∫—É–Ω–¥
- **–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å**: –ü—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –≥–ª—é–∫–∞ —à–∞–Ω—Å –æ–±–Ω—É–ª—è–µ—Ç—Å—è
- **–°–ª—É—á–∞–π–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã**: –í—Ä–µ–º—è –º–µ–∂–¥—É –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è–º–∏ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ—Ç–æ–ª–∫–∞**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —à–∞–Ω—Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- **–ü–æ–ª–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å**: –ü—Ä–∏ –≥–ª—é–∫–µ —Å–µ–∫—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª—É—á–∞–π–Ω–æ

#### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –°–∏—Å—Ç–µ–º—ã –ì–ª—é–∫–æ–≤**

**–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è (–†–µ–¥–∫–∏–µ –ì–ª—é–∫–∏):**
```csharp
_glitchAccumulationRate = 0.01f;      // 1% –∑–∞ –ø–µ—Ä–∏–æ–¥
_glitchAccumulationTime = new(10f, 15f);  // 10-15 —Å–µ–∫—É–Ω–¥
_maxGlitchChance = 0.2f;              // –ú–∞–∫—Å–∏–º—É–º 20%
```

**–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è (–ß–∞—Å—Ç—ã–µ –ì–ª—é–∫–∏):**
```csharp
_glitchAccumulationRate = 0.05f;      // 5% –∑–∞ –ø–µ—Ä–∏–æ–¥
_glitchAccumulationTime = new(3f, 6f);    // 3-6 —Å–µ–∫—É–Ω–¥
_maxGlitchChance = 1f;                 // –ú–∞–∫—Å–∏–º—É–º 100%
```

**–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è (–°—Ä–µ–¥–Ω—è—è –ß–∞—Å—Ç–æ—Ç–∞):**
```csharp
_glitchAccumulationRate = 0.02f;      // 2% –∑–∞ –ø–µ—Ä–∏–æ–¥
_glitchAccumulationTime = new(5f, 10f);   // 5-10 —Å–µ–∫—É–Ω–¥
_maxGlitchChance = 0.5f;               // –ú–∞–∫—Å–∏–º—É–º 50%
```

#### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**

**–ë–∞–∑–æ–≤—ã–µ AI –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```csharp
[Header("AI Settings")]
[SerializeField, MinValue(0)] private float _desiredPowerPerSection = 5f;  // –ñ–µ–ª–∞–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å —Å–µ–∫—Ç–æ—Ä–∞
[SerializeField, MinValue(0)] private int _maxSectionDeviation = 2;        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
```

**–£–º–Ω—ã–π –°–ø–∞—É–Ω:**
```csharp
[Header("Smart Spawning")]
[SerializeField] private bool _enableComplementaryAnalysis = true;    // –ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
[SerializeField] private bool _enableOppositeSectionLogic = true;   // –õ–æ–≥–∏–∫–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
[SerializeField] private bool _enableGlitchSystem = true;           // –°–∏—Å—Ç–µ–º–∞ –≥–ª—é–∫–æ–≤
```

**–û—Ç–ª–∞–¥–∫–∞:**
```csharp
[Header("Debug")]
[SerializeField] private bool _showDebugInfo = false;  // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
```

#### **–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**
```csharp
// –ü—É–±–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
public float CurrentGlitchChance => _currentGlitchChance;
public float TimeToNextAccumulation => _nextAccumulationTime - Time.time;

// –ö–Ω–æ–ø–∫–∏ –æ—Ç–ª–∞–¥–∫–∏ –≤ Inspector
[Button("Force Glitch")]     // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 100% —à–∞–Ω—Å
[Button("Show Current State")]  // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
```

### 5. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ê–¥–∞–ø—Ç–∞—Ü–∏—è**

#### **–°–∏—Å—Ç–µ–º–∞ "–ö—Ä–∏–∑–∏—Å–Ω–æ–≥–æ –†–µ–∂–∏–º–∞"**
```csharp
public class CrisisManager
{
    private float _playerHealthPercentage;
    private int _consecutiveDeaths;
    private float _timeSinceLastKill;
    
    public bool IsInCrisis => _playerHealthPercentage < 0.3f || 
                              _consecutiveDeaths > 2 || 
                              _timeSinceLastKill > 30f;
    
    public void AdjustSpawnRates()
    {
        if (IsInCrisis)
        {
            // –£–º–µ–Ω—å—à–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ 50%
            // –£–≤–µ–ª–∏—á–∏—Ç—å —à–∞–Ω—Å Soul –Ω–∞ 30%
            // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Knight –≤—Ä–µ–º–µ–Ω–Ω–æ
        }
    }
}
```

#### **–°–∏—Å—Ç–µ–º–∞ "–ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞"**
```csharp
public class MasteryTracker
{
    private float _killRate;           // –£–±–∏–π—Å—Ç–≤ –≤ –º–∏–Ω—É—Ç—É
    private float _survivalTime;      // –í—Ä–µ–º—è –≤—ã–∂–∏–≤–∞–Ω–∏—è
    private int _comboCount;          // –ö–æ–º–±–æ —É–±–∏–π—Å—Ç–≤
    
    public DifficultyAdjustment GetAdjustment()
    {
        if (_killRate > 5f && _comboCount > 10)
        {
            return DifficultyAdjustment.Increase; // –£–≤–µ–ª–∏—á–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
        }
        return DifficultyAdjustment.Maintain;
    }
}
```

---

## üéÆ –í–ê–†–ò–ê–ù–¢–´ –£–ú–ù–û–ì–û –°–ü–ê–£–ù–ê

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–æ–π –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π**
```csharp
public class SimpleAdaptiveSpawner
{
    private int _currentDifficulty = 0;
    private float _playerPerformance;
    
    public EnemyKind ChooseEnemyKind()
    {
        float[] weights = GetWeightsByDifficulty(_currentDifficulty);
        return WeightedRandomSelect(weights);
    }
    
    private float[] GetWeightsByDifficulty(int level)
    {
        return level switch
        {
            0 => new float[] { 0.8f, 0.2f, 0.0f, 0.0f }, // Soul, Vase, Skelet, Knight
            1 => new float[] { 0.7f, 0.25f, 0.05f, 0.0f },
            2 => new float[] { 0.5f, 0.3f, 0.15f, 0.05f },
            3 => new float[] { 0.4f, 0.25f, 0.2f, 0.15f },
            _ => new float[] { 0.4f, 0.25f, 0.2f, 0.15f }
        };
    }
}
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ú–∞—à–∏–Ω–Ω–æ–µ –û–±—É—á–µ–Ω–∏–µ**
```csharp
public class MLBasedSpawner
{
    private NeuralNetwork _difficultyPredictor;
    private PlayerBehaviorAnalyzer _behaviorAnalyzer;
    
    public EnemyKind PredictOptimalEnemy()
    {
        float[] playerState = _behaviorAnalyzer.GetCurrentState();
        float[] prediction = _difficultyPredictor.Predict(playerState);
        
        return SelectEnemyFromPrediction(prediction);
    }
    
    private EnemyKind SelectEnemyFromPrediction(float[] prediction)
    {
        // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤—Ä–∞–≥–∞
        // –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
    }
}
```

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π**
```csharp
public class HybridSmartSpawner
{
    private CrisisManager _crisisManager;
    private MasteryTracker _masteryTracker;
    private ComplementaryAnalyzer _complementaryAnalyzer;
    private PlayerPositionPredictor _positionPredictor;
    
    public SpawnDecision MakeSpawnDecision()
    {
        // 1. –ê–Ω–∞–ª–∏–∑ –∫—Ä–∏–∑–∏—Å–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
        if (_crisisManager.IsInCrisis)
            return CreateCrisisSpawn();
            
        // 2. –ê–Ω–∞–ª–∏–∑ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
        var masteryAdjustment = _masteryTracker.GetAdjustment();
        if (masteryAdjustment == DifficultyAdjustment.Increase)
            return CreateChallengeSpawn();
            
        // 3. –ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
        var complementaryKind = _complementaryAnalyzer.SuggestComplementary();
        if (complementaryKind != EnemyKind.Soul)
            return CreateComplementarySpawn(complementaryKind);
            
        // 4. –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
        var optimalSection = _positionPredictor.PredictOptimalSection();
        return CreatePositionalSpawn(optimalSection);
    }
}
```

---

## üîß –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –í –°–£–©–ï–°–¢–í–£–Æ–©–ï–ô –°–ò–°–¢–ï–ú–ï

### **SpawnerEnemysAI - –ü–æ–ª–Ω–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è**

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**
```csharp
[RequireComponent(typeof(SpawnerTokens))]
public class SpawnerEnemysAI : MonoBehaviour
{
    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    private const int SectionCount = 8;
    private const int EnemyKindCount = 4;
    private const float DefaultWeight = 1f;
    
    // AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    [Header("AI Settings")]
    [SerializeField, MinValue(0)] private float _desiredPowerPerSection = 5f;
    [SerializeField, MinValue(0)] private int _maxSectionDeviation = 2;
    
    // –°–∏—Å—Ç–µ–º–∞ –≥–ª—é–∫–æ–≤
    [Header("Glitch Spawn System")]
    [SerializeField, Range(0, 1)] private float _glitchAccumulationRate = 0.02f;
    [SerializeField, MinValue(1)] private Vector2 _glitchAccumulationTime = new(5f, 10f);
    [SerializeField, Range(0, 1)] private float _maxGlitchChance = 1f;
    
    // –£–º–Ω—ã–π —Å–ø–∞—É–Ω
    [Header("Smart Spawning")]
    [SerializeField] private bool _enableComplementaryAnalysis = true;
    [SerializeField] private bool _enableOppositeSectionLogic = true;
    [SerializeField] private bool _enableGlitchSystem = true;
    
    // –û—Ç–ª–∞–¥–∫–∞
    [Header("Debug")]
    [SerializeField] private bool _showDebugInfo = false;
}
```

#### **–ü—É–±–ª–∏—á–Ω—ã–µ –°–≤–æ–π—Å—Ç–≤–∞**
```csharp
// –°–æ—Å—Ç–æ—è–Ω–∏–µ AI
public bool IsTargetingNewSection => _isTargetingNewSection;
public int CurrentTargetSection => _currentTargetSection;
public float CurrentSectionPower => _currentSectionPower;

// –°–∏—Å—Ç–µ–º–∞ –≥–ª—é–∫–æ–≤
public float CurrentGlitchChance => _currentGlitchChance;
public float TimeToNextAccumulation => _nextAccumulationTime - Time.time;
```

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –ú–µ—Ç–æ–¥—ã**

**1. –í—ã–±–æ—Ä –°–µ–∫—Ç–æ—Ä–∞ (–ì–ª–∞–≤–Ω—ã–π –ú–µ—Ç–æ–¥)**
```csharp
public SpawnSection SelectSection()
{
    // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª—é–∫–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
    if (_enableGlitchSystem && ShouldTriggerGlitch())
    {
        var glitchSection = (SpawnSection)Random.Range(0, SectionCount);
        if (_showDebugInfo)
            Debug.Log($"[SpawnerEnemysAI] Glitch triggered! Random section: {glitchSection}");
        return glitchSection;
    }

    // 2. –û–±—ã—á–Ω–∞—è AI –ª–æ–≥–∏–∫–∞
    if (_isTargetingNewSection || _currentSectionPower >= _desiredPowerPerSection)
    {
        _currentTargetSection = SelectNewTargetSection();
        _currentSectionPower = 0f;
        _isTargetingNewSection = false;
    }

    return (SpawnSection)_currentTargetSection;
}
```

**2. –ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –ê–Ω–∞–ª–∏–∑**
```csharp
public EnemyKind SuggestComplementaryKind(SpawnSection section)
{
    if (!_enableComplementaryAnalysis)
    {
        // –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –µ—Å–ª–∏ –∞–Ω–∞–ª–∏–∑ –æ—Ç–∫–ª—é—á–µ–Ω
        EnemyKind[] kinds = { EnemyKind.Soul, EnemyKind.SoulVase, EnemyKind.Skelet, EnemyKind.Knight };
        return kinds[Random.Range(0, kinds.Length)];
    }

    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –≤—Ä–∞–≥–∞—Ö –≤ —Å–µ–∫—Ç–æ—Ä–µ
    int[] enemyCounts = _spawnerTokens.GetEnemyCountsBySection(section);
    int soul = enemyCounts[(int)EnemyKind.Soul];
    int vase = enemyCounts[(int)EnemyKind.SoulVase];
    int skelet = enemyCounts[(int)EnemyKind.Skelet];
    int knight = enemyCounts[(int)EnemyKind.Knight];

    // –ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞
    if (knight > 0 && skelet == 0) return EnemyKind.Skelet;
    else if (skelet > 0 && knight == 0) return EnemyKind.Knight;
    else if (soul + vase > 2) return EnemyKind.Skelet;
    else return EnemyKind.Soul;
}
```

**3. –°–∏—Å—Ç–µ–º–∞ –ì–ª—é–∫–æ–≤**
```csharp
private void Update()
{
    if (_enableGlitchSystem && Time.time >= _nextAccumulationTime)
    {
        AccumulateGlitchChance();
    }
}

private void AccumulateGlitchChance()
{
    _currentGlitchChance += _glitchAccumulationRate;
    _currentGlitchChance = Mathf.Min(_currentGlitchChance, _maxGlitchChance);
    
    _lastGlitchAccumulationTime = Time.time;
    _nextAccumulationTime = Time.time + Random.Range(_glitchAccumulationTime.x, _glitchAccumulationTime.y);
    
    if (_showDebugInfo)
    {
        Debug.Log($"[SpawnerEnemysAI] Glitch chance accumulated: {_currentGlitchChance:P1} " +
                  $"(next accumulation in {_nextAccumulationTime - Time.time:F1}s)");
    }
}

private bool ShouldTriggerGlitch()
{
    if (!_enableGlitchSystem) return false;
    
    bool shouldGlitch = Random.value < _currentGlitchChance;
    
    if (shouldGlitch)
    {
        _currentGlitchChance = 0f;
        _lastGlitchAccumulationTime = Time.time;
        _nextAccumulationTime = Time.time + Random.Range(_glitchAccumulationTime.x, _glitchAccumulationTime.y);
        
        if (_showDebugInfo)
        {
            Debug.Log($"[SpawnerEnemysAI] Glitch triggered! Chance was {_currentGlitchChance:P1}, reset to 0%");
        }
    }
    
    return shouldGlitch;
}
```

**4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ú–µ—Ç–æ–¥—ã**
```csharp
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ç–æ—Ä–∞–º–∏
public void ForceRetarget()
{
    _isTargetingNewSection = true;
    if (_showDebugInfo)
        Debug.Log("[SpawnerEnemysAI] Force retarget triggered");
}

public void CommitSectionPower(SpawnSection section, float powerAdded)
{
    int index = (int)section;
    if (index == _currentTargetSection)
    {
        _currentSectionPower += powerAdded;
        if (_showDebugInfo)
            Debug.Log($"[SpawnerEnemysAI] Section {section} power: {_currentSectionPower}/{_desiredPowerPerSection}");
    }
}

// –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SpawnerTokens
public float GetKindWeight(EnemyKind kind) => _spawnerTokens.GetKindWeight(kind);
public Vector3 GetSpawnPosition(SpawnSection section) => _spawnerTokens.GetSpawnPosition(section);
public SpawnSection GetSectionByDirection(SpawnDirection direction) => _spawnerTokens.GetSectionByDirection(direction);
```

**5. –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**
```csharp
[Button("Force Glitch")]
private void ForceGlitch()
{
    _currentGlitchChance = 1f; // 100% —à–∞–Ω—Å
    Debug.Log("[SpawnerEnemysAI] Glitch chance set to 100%!");
}

[Button("Force Retarget")]
private void ForceRetargetDebug()
{
    ForceRetarget();
}

[Button("Show Current State")]
private void ShowCurrentState()
{
    float timeToNextAccumulation = _nextAccumulationTime - Time.time;
    Debug.Log($"[SpawnerEnemysAI] Current State:\n" +
        $"Target Section: {_currentTargetSection}\n" +
        $"Section Power: {_currentSectionPower}/{_desiredPowerPerSection}\n" +
        $"Is Targeting New: {_isTargetingNewSection}\n" +
        $"Glitch Chance: {_currentGlitchChance:P1}\n" +
        $"Next Accumulation: {timeToNextAccumulation:F1}s");
}
```

**6. –õ–æ–≥–∏–∫–∞ –í—ã–±–æ—Ä–∞ –°–µ–∫—Ç–æ—Ä–æ–≤**
```csharp
private int SelectNewTargetSection()
{
    if (!_enableOppositeSectionLogic)
    {
        // –ü—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –µ—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞
        return Random.Range(0, SectionCount);
    }

    // –ü–æ–ª—É—á–∞–µ–º –≤–µ—Å–∞ —Å–µ–∫—Ç–æ—Ä–æ–≤ –∏–∑ SpawnerTokens
    float[] sectionWeights = _spawnerTokens.GetSectionWeights();
    
    // –ù–∞—Ö–æ–¥–∏–º —Å–µ–∫—Ç–æ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º
    int lowestPowerSection = 0;
    float lowestPower = sectionWeights[0];
    
    for (int i = 1; i < sectionWeights.Length; i++)
    {
        if (sectionWeights[i] < lowestPower)
        {
            lowestPower = sectionWeights[i];
            lowestPowerSection = i;
        }
    }
    
    // –í—ã–±–∏—Ä–∞–µ–º –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π —Å–µ–∫—Ç–æ—Ä —Å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ–º
    int oppositeSection = (lowestPowerSection + SectionCount / 2) % SectionCount;
    int deviation = Random.Range(-_maxSectionDeviation, _maxSectionDeviation + 1);
    int targetSection = (oppositeSection + deviation + SectionCount) % SectionCount;
    
    if (_showDebugInfo)
    {
        Debug.Log($"[SpawnerEnemysAI] Selected section {targetSection} " +
                  $"(opposite to {lowestPowerSection}, deviation: {deviation})");
    }
    
    return targetSection;
}
```

**7. –í–∞–ª–∏–¥–∞—Ü–∏—è –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
```csharp
#if UNITY_EDITOR
private void OnValidate()
{
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –≥–ª—é–∫–æ–≤
    if (_glitchAccumulationRate < 0f) _glitchAccumulationRate = 0f;
    if (_glitchAccumulationRate > 1f) _glitchAccumulationRate = 1f;
    if (_glitchAccumulationTime.x < 1f) _glitchAccumulationTime.x = 1f;
    if (_glitchAccumulationTime.y < _glitchAccumulationTime.x) _glitchAccumulationTime.y = _glitchAccumulationTime.x;
    if (_maxGlitchChance < 0f) _maxGlitchChance = 0f;
    if (_maxGlitchChance > 1f) _maxGlitchChance = 1f;
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è AI –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    if (_maxSectionDeviation < 0) _maxSectionDeviation = 0;
}
#endif
```

### **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SpawnerTokens**
```csharp
public class SmartSpawnerTokens : SpawnerTokens
{
    [Header("Smart Spawning")]
    [SerializeField] private int _currentDifficultyLevel = 0;
    [SerializeField] private bool _enableCrisisMode = true;
    [SerializeField] private bool _enableMasteryTracking = true;
    
    private CrisisManager _crisisManager;
    private MasteryTracker _masteryTracker;
    
    public override EnemyKind SuggestComplementaryKind(SpawnSection section)
    {
        // –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
        var baseSuggestion = base.SuggestComplementaryKind(section);
        
        // –ö—Ä–∏–∑–∏—Å–Ω—ã–π —Ä–µ–∂–∏–º
        if (_crisisManager?.IsInCrisis == true)
        {
            return EnemyKind.Soul; // –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ –≤—Ä–∞–≥–∏ –≤ –∫—Ä–∏–∑–∏—Å–µ
        }
        
        // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤—É
        var masteryAdjustment = _masteryTracker?.GetAdjustment();
        if (masteryAdjustment == DifficultyAdjustment.Increase)
        {
            return GetHarderEnemy(baseSuggestion);
        }
        
        return baseSuggestion;
    }
    
    public float GetKindWeight(EnemyKind kind, int difficultyLevel)
    {
        var baseWeight = GetKindWeight(kind);
        var difficultyMultiplier = GetDifficultyMultiplier(kind, difficultyLevel);
        
        return baseWeight * difficultyMultiplier;
    }
}
```

### **–ù–æ–≤—ã–π –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: DifficultyManager**
```csharp
public class DifficultyManager : MonoBehaviour
{
    [Header("Difficulty Settings")]
    [SerializeField] private int _currentLevel = 0;
    [SerializeField] private float _levelTransitionTime = 30f;
    [SerializeField] private bool _autoAdjustDifficulty = true;
    
    [Header("Performance Tracking")]
    [SerializeField] private float _playerHealthThreshold = 0.3f;
    [SerializeField] private int _maxConsecutiveDeaths = 3;
    [SerializeField] private float _masteryKillRate = 5f;
    
    public int CurrentLevel => _currentLevel;
    public bool ShouldIncreaseDifficulty => CheckMasteryConditions();
    public bool ShouldDecreaseDifficulty => CheckCrisisConditions();
    
    private bool CheckMasteryConditions()
    {
        // –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
        return _playerKillRate > _masteryKillRate && 
               _playerSurvivalTime > 60f;
    }
    
    private bool CheckCrisisConditions()
    {
        // –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–∏–∑–∏—Å–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
        return _playerHealth < _playerHealthThreshold || 
               _consecutiveDeaths >= _maxConsecutiveDeaths;
    }
}
```

---

## üìä –ú–ï–¢–†–ò–ö–ò –ò –ë–ê–õ–ê–ù–°–ò–†–û–í–ö–ê

### **–ö–ª—é—á–µ–≤—ã–µ –ú–µ—Ç—Ä–∏–∫–∏**
- **–í—Ä–µ–º—è –≤—ã–∂–∏–≤–∞–Ω–∏—è –∏–≥—Ä–æ–∫–∞** (—Ü–µ–ª—å: 2-5 –º–∏–Ω—É—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ)
- **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —É–±–∏–π—Å—Ç–≤/—Å–º–µ—Ä—Ç–µ–π** (—Ü–µ–ª—å: 3:1)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Å–µ–∫—Ç–æ—Ä–æ–≤** (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
- **–ß–∞—Å—Ç–æ—Ç–∞ –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π** (–Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ 2 –º–∏–Ω—É—Ç—ã)

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞**
```csharp
public class AutoBalancer
{
    public void AdjustSpawnRates()
    {
        if (_playerDeathRate > 0.5f)
        {
            // –£–º–µ–Ω—å—à–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
            DecreaseDifficulty();
        }
        else if (_playerKillRate > 8f)
        {
            // –£–≤–µ–ª–∏—á–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
            IncreaseDifficulty();
        }
    }
}
```

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –í–ù–ï–î–†–ï–ù–ò–Æ

### **‚úÖ –≠—Ç–∞–ø 0: –°–∏—Å—Ç–µ–º–∞ –ì–ª—é–∫–æ–≤ (–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê)**
1. ‚úÖ **SpawnerEnemysAI** - –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–ª—é–∫–æ–≤
2. ‚úÖ **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —à–∞–Ω—Å–∞** - –∫–∞–∂–¥—ã–µ 5-10 —Å–µ–∫—É–Ω–¥ +2%
3. ‚úÖ **–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å** - –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –≥–ª—é–∫–∞
4. ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
5. ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –≥–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **–≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –ê–¥–∞–ø—Ç–∞—Ü–∏—è**
1. –î–æ–±–∞–≤–∏—Ç—å `DifficultyManager` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –†–∞—Å—à–∏—Ä–∏—Ç—å `SpawnerTokens` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É –≤–µ—Å–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º

### **–≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏**
1. –î–æ–±–∞–≤–∏—Ç—å `CrisisManager` –¥–ª—è –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `MasteryTracker` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞
3. –£–ª—É—á—à–∏—Ç—å –∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### **–≠—Ç–∞–ø 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –î–æ–±–∞–≤–∏—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

---

## üîç –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –û–¢–õ–ê–î–ö–ê

### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –û—Ç–ª–∞–¥–∫–∏**
```csharp
[System.Serializable]
public class SpawnDebugInfo
{
    public int currentDifficulty;
    public float[] sectionCosts;
    public int[] enemyCountsBySection;
    public bool isInCrisis;
    public float playerPerformance;
    public EnemyKind lastSpawnedKind;
    public SpawnSection lastSpawnedSection;
}
```

### **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ Scene View**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–∫—Ç–æ—Ä–æ–≤ —Å–ø–∞—É–Ω–∞
- –ü–æ–∫–∞–∑ "—Å—Ç–æ–∏–º–æ—Å—Ç–∏" –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –∏–≥—Ä–æ–∫–∞
- –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–∞

---

---

## üéØ –ü–†–û–°–¢–ê–Ø –ò –≠–§–§–ï–ö–¢–ò–í–ù–ê–Ø –°–ò–°–¢–ï–ú–ê AI

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã**
- **8 —Å–µ–∫—Ç–æ—Ä–æ–≤** –≤–æ–∫—Ä—É–≥ –∏–≥—Ä–æ–∫–∞
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã** –¥–ª—è AI (–∫–∞–∫ —Ä–µ—Å—É—Ä—Å –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π)
- **–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** —Å –æ—Ç–∫–∞—Ç–æ–º (–∫–∞–∫ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏)
- **–î–≤—É—Ö—Ñ–∞–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –°–ø–æ–∫–æ–π–Ω—ã–π —Ä–µ–∂–∏–º ‚Üî –†–µ–∂–∏–º –≤–æ–ª–Ω
- **–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å –≤ –≤—ã–±–æ—Ä–µ —Å–µ–∫—Ç–æ—Ä–æ–≤** (—Å–ª–µ–≤–∞/—Å–ø—Ä–∞–≤–∞ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ)
- **–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã —Ç–∞–∫—Ç–∏–∫** –¥–ª—è 4 —Ç–∏–ø–æ–≤ –≤—Ä–∞–≥–æ–≤

---

## üéÆ –°–ò–°–¢–ï–ú–ê –¢–û–ö–ï–ù–û–í AI

### **–ü—Ä–∏–Ω—Ü–∏–ø –†–∞–±–æ—Ç—ã**
```csharp
public class AITokenSystem
{
    [Header("AI Token Settings")]
    [SerializeField] private int _defaultTokens = 3;           // –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
    [SerializeField] private int _currentTokens = 3;           // –¢–µ–∫—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã
    [SerializeField] private int _returnedTokens = 0;          // –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
    [SerializeField] private int _maxTokens = 10;              // –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤
    
    [Header("Wave Settings")]
    [SerializeField] private int _waveThreshold = 5;           // –ü–æ—Ä–æ–≥ –¥–ª—è –≤–æ–ª–Ω—ã
    [SerializeField] private int _wavePresetCost = 3;          // –°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–µ—Å–µ—Ç–æ–≤ –≤ –≤–æ–ª–Ω–µ
    [SerializeField] private float _waveDuration = 15f;         // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ–ª–Ω—ã
    
    // –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π
    private const int BASIC_SPAWN_COST = 1;        // –û–±—ã—á–Ω—ã–π —Å–ø–∞—É–Ω
    private const int TACTICAL_SCENARIO_COST = 3;  // –¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)
    
    public bool CanUsePresets => _returnedTokens > 0;
    public bool IsWaveMode => _returnedTokens >= _waveThreshold;
}
```

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¢–æ–∫–µ–Ω–æ–≤**
- **–¢–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è** –∑–∞ —É–±–∏–π—Å—Ç–≤–æ –≤—Ä–∞–≥–æ–≤ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–∏–ª—ã –≤—Ä–∞–≥–∞)
- **1 —Ç–æ–∫–µ–Ω** - –æ–±—ã—á–Ω—ã–π —Å–ø–∞—É–Ω –≤—Ä–∞–≥–∞
- **3-6 —Ç–æ–∫–µ–Ω–æ–≤** - —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π (—Å –æ—Ç–∫–∞—Ç–æ–º)
- **–¢–æ–∫–µ–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è** –ø–æ—Å–ª–µ —Å–ø–∞—É–Ω–∞ (–≤–æ–∑–≤—Ä–∞—Ç = –ø–æ—Ç—Ä–∞—á–µ–Ω–æ)
- **AI "–∞—Ñ–∫"** –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–∞–º

### **–°–∏—Å—Ç–µ–º–∞ –í—Ä–∞–≥–æ–≤ —Å –ü–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**
```csharp
[System.Serializable]
public class EnemyData
{
    [Header("Enemy Info")]
    public EnemyKind enemyKind;
    
    [Header("Token Settings")]
    public int tokenValue = 1;                   // –¢–æ–∫–µ–Ω—ã (—Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)
    
    [Header("Timer Settings")]
    public float spawnCooldown = 2f;             // "–ê–§–ö" –≤—Ä–µ–º—è –ø–æ—Å–ª–µ —Å–ø–∞—É–Ω–∞
    public float timerReduction = 0.5f;          // –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –∑–∞ —É–±–∏–π—Å—Ç–≤–æ
    
    [Header("Difficulty")]
    public int difficultyLevel = 0;              // –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (0-3)
}

public class EnemyDataManager
{
    [SerializeField] private EnemyData[] _enemyData;
    
    public EnemyData GetEnemyData(EnemyKind enemyKind)
    {
        return _enemyData.FirstOrDefault(e => e.enemyKind == enemyKind);
    }
    
    public int GetTokenValue(EnemyKind enemyKind)
    {
        return GetEnemyData(enemyKind)?.tokenValue ?? 1;
    }
    
    public float GetSpawnCooldown(EnemyKind enemyKind)
    {
        return GetEnemyData(enemyKind)?.spawnCooldown ?? 2f;
    }
    
    public float GetTimerReduction(EnemyKind enemyKind)
    {
        return GetEnemyData(enemyKind)?.timerReduction ?? 0.5f;
    }
}
```

---

## üéÆ –ü–†–ò–ú–ï–† –†–ê–ë–û–¢–´ –°–ò–°–¢–ï–ú–´

### **–°—Ü–µ–Ω–∞—Ä–∏–π –ò–≥—Ä—ã**
```
üéÆ –ù–ê–ß–ê–õ–û –ò–ì–†–´ (–£—Ä–æ–≤–µ–Ω—å 0):
- AI —Ç–æ–∫–µ–Ω—ã: 3 (–¥–µ—Ñ–æ–ª—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è 0)
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 0
- –ü—Ä–µ—Å–µ—Ç—ã: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (–Ω—É–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã)
- –¢–∞–π–º–µ—Ä: 3-8 —Å–µ–∫—É–Ω–¥
- –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤: 3

‚öîÔ∏è AI –°–ü–ê–£–ù–ò–¢ –î–£–®–£:
- –¢—Ä–∞—Ç–∏—Ç: 1 —Ç–æ–∫–µ–Ω
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: 1 —Ç–æ–∫–µ–Ω
- "–ê–§–ö": 2 —Å–µ–∫—É–Ω–¥—ã (–ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –¥—É—à–∏)
- AI —Ç–æ–∫–µ–Ω—ã: 3 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 0

‚öîÔ∏è –ò–ì–†–û–ö –£–ë–ò–í–ê–ï–¢ –î–£–®–£:
- –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 1
- AI —Ç–æ–∫–µ–Ω—ã: 4 (–Ω–æ –º–∞–∫—Å–∏–º—É–º 3, –æ—Å—Ç–∞–µ—Ç—Å—è 3)
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 1
- –¢–∞–π–º–µ—Ä —Å–æ–∫—Ä–∞—Ç–∏–ª—Å—è –Ω–∞ 0.5 —Å–µ–∫—É–Ω–¥—ã (–ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –¥—É—à–∏)

‚öîÔ∏è AI –°–ü–ê–£–ù–ò–¢ –ï–©–ï –î–£–®–£:
- –¢—Ä–∞—Ç–∏—Ç: 1 —Ç–æ–∫–µ–Ω
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: 1 —Ç–æ–∫–µ–Ω
- "–ê–§–ö": 2 —Å–µ–∫—É–Ω–¥—ã
- AI —Ç–æ–∫–µ–Ω—ã: 3
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 1

‚öîÔ∏è –ò–ì–†–û–ö –£–ë–ò–í–ê–ï–¢ –î–£–®–£:
- –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 1
- AI —Ç–æ–∫–µ–Ω—ã: 3 (–º–∞–∫—Å–∏–º—É–º)
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 2
- –ü—Ä–µ—Å–µ—Ç—ã —Å—Ç–∞–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã! (—Ç—Ä–µ–±—É–µ—Ç—Å—è 2+ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö)

üéØ AI –ò–°–ü–û–õ–¨–ó–£–ï–¢ –ü–†–ï–°–ï–¢ "–ü–û–î–î–ï–†–ñ–ö–ê":
- –¢—Ä–∞—Ç–∏—Ç: 2 —Ç–æ–∫–µ–Ω–∞
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: 2 —Ç–æ–∫–µ–Ω–∞
- "–ê–§–ö": 4 —Å–µ–∫—É–Ω–¥—ã (–ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø—Ä–µ—Å–µ—Ç–∞)
- AI —Ç–æ–∫–µ–Ω—ã: 3
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 2
- –°–ø–∞—É–Ω–∏—Ç: Soul + SoulVase

‚öîÔ∏è –ò–ì–†–û–ö –£–ë–ò–í–ê–ï–¢ –í–°–ï–• –í–†–ê–ì–û–í –ü–†–ï–°–ï–¢–ê:
- –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 2
- AI —Ç–æ–∫–µ–Ω—ã: 3 (–º–∞–∫—Å–∏–º—É–º)
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: 4
- –¢–∞–π–º–µ—Ä —Å–æ–∫—Ä–∞—Ç–∏–ª—Å—è –Ω–∞ 1.5 —Å–µ–∫—É–Ω–¥—ã (–ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø—Ä–µ—Å–µ—Ç–∞)

üåä –ù–ê–ß–ò–ù–ê–ï–¢–°–Ø –í–û–õ–ù–ê (–ø–æ—Ä–æ–≥ 3 –¥–ª—è —É—Ä–æ–≤–Ω—è 0):
- –¢–∞–π–º–µ—Ä: 1 —Å–µ–∫—É–Ω–¥–∞ (–≤–º–µ—Å—Ç–æ 3-8)
- –ü—Ä–µ—Å–µ—Ç—ã: –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –æ–±—ã—á–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –∑–∞ –∑–∞—Å–ø–∞—É–Ω–µ–Ω–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤

‚öîÔ∏è AI –ê–ö–¢–ò–í–ù–û –°–ü–ê–£–ù–ò–¢:
- –ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É —Å–ø–∞—É–Ω–∏—Ç –≤—Ä–∞–≥–∞
- –ü–æ–ª—É—á–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∑–∞ –∫–∞–∂–¥–æ–≥–æ –∑–∞—Å–ø–∞—É–Ω–µ–Ω–Ω–æ–≥–æ
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Å–µ—Ç—ã

‚è∞ –í–û–õ–ù–ê –ó–ê–ö–ê–ù–ß–ò–í–ê–ï–¢–°–Ø (10 —Å–µ–∫—É–Ω–¥ –¥–ª—è —É—Ä–æ–≤–Ω—è 0):
- AI —Ç–æ–∫–µ–Ω—ã: —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –¥–æ –¥–µ—Ñ–æ–ª—Ç–∞ (3)
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –¥–æ 0
- –¢–∞–π–º–µ—Ä: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ 3-8 —Å–µ–∫—É–Ω–¥–∞–º
- –ü—Ä–µ—Å–µ—Ç—ã: —Å–Ω–æ–≤–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

üí° –ò–ì–†–û–ö –ê–ö–¢–ò–í–ò–†–£–ï–¢ –õ–ê–ú–ü–£:
- –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 1
- –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –¥–æ 4
- –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 5
- AI —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–ª—å–Ω–µ–µ
```

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ü—Ä–µ—Å–µ—Ç–æ–≤**
- **–û–±—ã—á–Ω—ã–π —Å–ø–∞—É–Ω**: 1 —Ç–æ–∫–µ–Ω ‚Üí 1 —Ç–æ–∫–µ–Ω –æ–±—Ä–∞—Ç–Ω–æ ‚Üí "–∞—Ñ–∫" 2 —Å–µ–∫—É–Ω–¥—ã
- **–ü—Ä–µ—Å–µ—Ç "–û–∫—Ä—É–∂–µ–Ω–∏–µ"**: 3 —Ç–æ–∫–µ–Ω–∞ ‚Üí 3 —Ç–æ–∫–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ ‚Üí "–∞—Ñ–∫" 6 —Å–µ–∫—É–Ω–¥
- **–ù–æ –ø—Ä–µ—Å–µ—Ç –¥–∞–µ—Ç 4 –≤—Ä–∞–≥–∞ –≤–º–µ—Å—Ç–æ 1!** (–≤ 4 —Ä–∞–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ)

### **–î–µ—Ç–∞–ª—å–Ω—ã–π –ü—Ä–∏–º–µ—Ä**
```
üéÆ –ù–ê–ß–ê–õ–û –ò–ì–†–´:
- AI —Ç–æ–∫–µ–Ω—ã: 0
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã: –≤—Å–µ (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å)

‚öîÔ∏è –ò–ì–†–û–ö –£–ë–ò–í–ê–ï–¢ 3 –î–£–®–ò:
- –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 3 (1+1+1)
- AI —Ç–æ–∫–µ–Ω—ã: 3
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã: "–ü—Ä–æ—Å—Ç–∞—è –í–æ–ª–Ω–∞" (1 —Ç–æ–∫–µ–Ω), "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" (2 —Ç–æ–∫–µ–Ω–∞)

üéØ AI –í–´–ë–ò–†–ê–ï–¢ "–ü–û–î–î–ï–†–ñ–ö–ê":
- –¢—Ä–∞—Ç–∏—Ç: 2 —Ç–æ–∫–µ–Ω–∞
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: 2 —Ç–æ–∫–µ–Ω–∞
- "–ê–§–ö": 4 —Å–µ–∫—É–Ω–¥—ã (2 —Ç–æ–∫–µ–Ω–∞ √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- –°–ø–∞—É–Ω–∏—Ç: Soul + SoulVase
- AI —Ç–æ–∫–µ–Ω—ã: 3 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)

‚öîÔ∏è –ò–ì–†–û–ö –£–ë–ò–í–ê–ï–¢ –°–ö–ï–õ–ï–¢–ê:
- –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 5
- AI —Ç–æ–∫–µ–Ω—ã: 8
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã: –≤—Å–µ –∫—Ä–æ–º–µ "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" (–æ—Ç–∫–∞—Ç 30 —Å–µ–∫)

üéØ AI –í–´–ë–ò–†–ê–ï–¢ "–û–ö–†–£–ñ–ï–ù–ò–ï":
- –¢—Ä–∞—Ç–∏—Ç: 4 —Ç–æ–∫–µ–Ω–∞
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: 4 —Ç–æ–∫–µ–Ω–∞
- "–ê–§–ö": 8 —Å–µ–∫—É–Ω–¥ (4 —Ç–æ–∫–µ–Ω–∞ √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- –°–ø–∞—É–Ω–∏—Ç: 4 –≤—Ä–∞–≥–∞ –ø–æ —É–≥–ª–∞–º
- AI —Ç–æ–∫–µ–Ω—ã: 8 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)

‚öîÔ∏è –ò–ì–†–û–ö –£–ë–ò–í–ê–ï–¢ –†–´–¶–ê–†–Ø:
- –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 10
- AI —Ç–æ–∫–µ–Ω—ã: 18
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã: –≤—Å–µ –∫—Ä–æ–º–µ "–û–∫—Ä—É–∂–µ–Ω–∏–µ" (–æ—Ç–∫–∞—Ç 30 —Å–µ–∫)

üéØ AI –í–´–ë–ò–†–ê–ï–¢ "–î–í–û–ô–ù–û–ô –£–î–ê–†":
- –¢—Ä–∞—Ç–∏—Ç: 6 —Ç–æ–∫–µ–Ω–æ–≤
- –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: 6 —Ç–æ–∫–µ–Ω–æ–≤
- "–ê–§–ö": 12 —Å–µ–∫—É–Ω–¥ (6 —Ç–æ–∫–µ–Ω–æ–≤ √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- –°–ø–∞—É–Ω–∏—Ç: 2 Knight'–∞ (—Å–ø–µ—Ä–µ–¥–∏ –∏ —Å–∑–∞–¥–∏)
- AI —Ç–æ–∫–µ–Ω—ã: 18 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
```

### **–ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**
1. **–¢–æ–∫–µ–Ω—ã –Ω–µ —Ç—Ä–∞—Ç—è—Ç—Å—è** - –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. **"–ê–§–ö" –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è** - –∫–∞–∂–¥—ã–π –≤—Ä–∞–≥/–ø—Ä–µ—Å–µ—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. **–ü—Ä–µ—Å–µ—Ç—ã –≤—ã–≥–æ–¥–Ω—ã** - –±–æ–ª—å—à–µ –≤—Ä–∞–≥–æ–≤ –∑–∞ —Ç–µ –∂–µ "–∞—Ñ–∫" –≤—Ä–µ–º—è
4. **–£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏** - 4 —É—Ä–æ–≤–Ω—è —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
5. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** - AI –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞
6. **–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–µ—Å–µ—Ç–æ–≤** - –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–µ—Å–µ—Ç –∏–º–µ–µ—Ç –º–µ–Ω—å—à–∏–π —à–∞–Ω—Å
7. **–£–º–Ω—ã–π –≤—ã–±–æ—Ä —Å–µ–∫—Ç–æ—Ä–æ–≤** - –∞–Ω–∞–ª–∏–∑ –≤–µ—Å–æ–≤ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
8. **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è —á–µ—Ä–µ–∑ –ª–∞–º–ø—É** - –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å

---

## üìà –°–ò–°–¢–ï–ú–ê –£–†–û–í–ù–ï–ô –°–õ–û–ñ–ù–û–°–¢–ò

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –°–ª–æ–∂–Ω–æ—Å—Ç–∏**
```csharp
[System.Serializable]
public class DifficultyLevel
{
    [Header("Level Info")]
    public int level = 0;
    public string levelName;
    
    [Header("Token Settings")]
    public int tokens = 3;                      // –¢–æ–∫–µ–Ω—ã AI (–º–∞–∫—Å–∏–º—É–º –∏ –¥–µ—Ñ–æ–ª—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)
    
    [Header("Wave Settings")]
    public float waveDuration = 15f;            // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ–ª–Ω—ã
    public int waveThreshold = 5;               // –ü–æ—Ä–æ–≥ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–æ–ª–Ω—ã
    
    [Header("Preset Settings")]
    public int presetCostMultiplier = 1;        // –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–µ—Å–µ—Ç–æ–≤
    public int presetTokenMultiplier = 1;       // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
}

public class DifficultyManager
{
    [SerializeField] private DifficultyLevel[] _difficultyLevels;
    [SerializeField] private int _currentDifficulty = 0;
    
    public DifficultyLevel GetCurrentDifficulty()
    {
        return _difficultyLevels[_currentDifficulty];
    }
    
    public void IncreaseDifficulty()
    {
        if (_currentDifficulty < _difficultyLevels.Length - 1)
        {
            _currentDifficulty++;
            Debug.Log($"[Difficulty] Increased to level {_currentDifficulty}");
        }
    }
    
    public void DecreaseDifficulty()
    {
        if (_currentDifficulty > 0)
        {
            _currentDifficulty--;
            Debug.Log($"[Difficulty] Decreased to level {_currentDifficulty}");
        }
    }
    
    public void SetDifficulty(int level)
    {
        _currentDifficulty = Mathf.Clamp(level, 0, _difficultyLevels.Length - 1);
        Debug.Log($"[Difficulty] Set to level {_currentDifficulty}");
    }
}
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –£—Ä–æ–≤–Ω–µ–π**
```csharp
// –£—Ä–æ–≤–µ–Ω—å 0 (–û—á–µ–Ω—å –õ–µ–≥–∫–∏–π)
new DifficultyLevel
{
    level = 0,
    levelName = "Very Easy",
    tokens = 3,
    waveDuration = 10f,
    waveThreshold = 3,
    presetCostMultiplier = 1,
    presetTokenMultiplier = 1
}

// –£—Ä–æ–≤–µ–Ω—å 1 (–õ–µ–≥–∫–∏–π)
new DifficultyLevel
{
    level = 1,
    levelName = "Easy",
    tokens = 4,
    waveDuration = 15f,
    waveThreshold = 4,
    presetCostMultiplier = 1,
    presetTokenMultiplier = 1
}

// –£—Ä–æ–≤–µ–Ω—å 2 (–°—Ä–µ–¥–Ω–∏–π)
new DifficultyLevel
{
    level = 2,
    levelName = "Medium",
    tokens = 5,
    waveDuration = 20f,
    waveThreshold = 5,
    presetCostMultiplier = 1,
    presetTokenMultiplier = 1
}

// –£—Ä–æ–≤–µ–Ω—å 3 (–°–ª–æ–∂–Ω—ã–π)
new DifficultyLevel
{
    level = 3,
    levelName = "Hard",
    tokens = 6,
    waveDuration = 25f,
    waveThreshold = 6,
    presetCostMultiplier = 1,
    presetTokenMultiplier = 1
}
```

---

## ‚è∞ –°–ò–°–¢–ï–ú–ê –°–õ–£–ß–ê–ô–ù–´–• –¢–ê–ô–ú–ï–†–û–í

### **–ü—Ä–∏–Ω—Ü–∏–ø –†–∞–±–æ—Ç—ã**
```csharp
public class RandomTimerSystem
{
    [Header("Timer Settings")]
    [SerializeField] private Vector2 _spawnIntervalRange = new(3f, 8f);  // 3-8 —Å–µ–∫—É–Ω–¥
    [SerializeField] private float _currentTimer = 0f;
    [SerializeField] private float _nextSpawnTime = 0f;
    [SerializeField] private float _timerReductionPerKill = 0.5f;       // –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∑–∞ —É–±–∏–π—Å—Ç–≤–æ
    
    [Header("Wave Settings")]
    [SerializeField] private float _waveSpawnInterval = 1f;              // 1 —Å–µ–∫—É–Ω–¥–∞ –≤ –≤–æ–ª–Ω–µ
    
    // –¢–∞–π–º–µ—Ä –º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–±–∏–π—Å—Ç–≤–∞ –≤—Ä–∞–≥–∞
    public void OnEnemyKilled()
    {
        // –°–æ–∫—Ä–∞—â–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ç–∞–π–º–µ—Ä
        _nextSpawnTime -= _timerReductionPerKill;
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ç–∞–π–º–µ—Ä
        _nextSpawnTime = Time.time + Random.Range(_spawnIntervalRange.x, _spawnIntervalRange.y);
    }
    
    public bool ShouldSpawn()
    {
        return Time.time >= _nextSpawnTime;
    }
    
    public void SetWaveMode(bool isWave)
    {
        if (isWave)
        {
            _nextSpawnTime = Time.time + _waveSpawnInterval;
        }
        else
        {
            _nextSpawnTime = Time.time + Random.Range(_spawnIntervalRange.x, _spawnIntervalRange.y);
        }
    }
}
```

### **–°–∏—Å—Ç–µ–º–∞ "–ê–§–ö" AI**
```csharp
public class AIAfkSystem
{
    private float _afkDuration = 0f;
    private float _afkStartTime = 0f;
    private bool _isAfk = false;
    
    public void StartAfk(int tokensSpent)
    {
        // AI "–∞—Ñ–∫" –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–∞–º
        _afkDuration = tokensSpent * 2f;  // 2 —Å–µ–∫—É–Ω–¥—ã –∑–∞ —Ç–æ–∫–µ–Ω
        _afkStartTime = Time.time;
        _isAfk = true;
    }
    
    public bool IsAfk()
    {
        if (_isAfk && Time.time - _afkStartTime >= _afkDuration)
        {
            _isAfk = false;
        }
        return _isAfk;
    }
}
```

---

## üé≠ –¢–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –°–¶–ï–ù–ê–†–ò–ò

### **–°–∏—Å—Ç–µ–º–∞ –ü—Ä–µ—Å–µ—Ç–æ–≤ —Å –ë–∏–ª–¥–µ—Ä–æ–º**
```csharp
[System.Serializable]
public class PresetData
{
    [Header("Preset Info")]
    public string presetName;
    public string description;
    
    [Header("Token Settings")]
    public int tokenValue = 3;                  // –¢–æ–∫–µ–Ω—ã (—Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)
    
    [Header("Timer Settings")]
    public float spawnCooldown = 6f;            // "–ê–§–ö" –≤—Ä–µ–º—è –ø–æ—Å–ª–µ —Å–ø–∞—É–Ω–∞
    public float timerReduction = 1.5f;         // –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –∑–∞ —É–±–∏–π—Å—Ç–≤–æ –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤
    
    [Header("Difficulty Settings")]
    public int difficultyLevel = 0;              // –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (0-3)
    public int requiredTokens = 5;              // –¢—Ä–µ–±—É–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
    
    [Header("Enemy Placement")]
    public EnemyPlacement[] enemyPlacements;    // –†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤
}

[System.Serializable]
public class EnemyPlacement
{
    public EnemyKind enemyKind;                 // –¢–∏–ø –≤—Ä–∞–≥–∞
    public int relativeSection;                // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ–∫—Ç–æ—Ä (0-11)
    public int count = 1;                      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–∞–≥–æ–≤
}

/// <summary>
/// –ë–∏–ª–¥–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ—Å–µ—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–≤–æ—Ä–æ—Ç–∞.
/// –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –≤—Ä–∞–≥–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ä–∞–≥–∞.
/// </summary>
public class PresetBuilder
{
    private List<EnemyPlacement> _enemyPlacements = new List<EnemyPlacement>();
    private int _mainEnemySection = 0;          // –°–µ–∫—Ç–æ—Ä –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ä–∞–≥–∞
    
    /// <summary>
    /// –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Ä–∞–≥–∞ –≤ –ø—Ä–µ—Å–µ—Ç.
    /// </summary>
    /// <param name="enemyKind">–¢–∏–ø –≤—Ä–∞–≥–∞</param>
    /// <param name="relativeSection">–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ–∫—Ç–æ—Ä (0-11)</param>
    /// <param name="count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–∞–≥–æ–≤</param>
    /// <returns>–¢–µ–∫—É—â–∏–π –±–∏–ª–¥–µ—Ä –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤</returns>
    public PresetBuilder AddEnemy(EnemyKind enemyKind, int relativeSection, int count = 1)
    {
        _enemyPlacements.Add(new EnemyPlacement
        {
            enemyKind = enemyKind,
            relativeSection = relativeSection,
            count = count
        });
        return this;
    }
    
    /// <summary>
    /// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ä–∞–≥–∞ (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ).
    /// </summary>
    /// <param name="enemyKind">–¢–∏–ø –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ä–∞–≥–∞</param>
    /// <param name="count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–ª–∞–≤–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤</param>
    /// <returns>–¢–µ–∫—É—â–∏–π –±–∏–ª–¥–µ—Ä –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤</returns>
    public PresetBuilder SetMainEnemy(EnemyKind enemyKind, int count = 1)
    {
        _enemyPlacements.Add(new EnemyPlacement
        {
            enemyKind = enemyKind,
            relativeSection = 0,  // –ì–ª–∞–≤–Ω—ã–π –≤—Ä–∞–≥ –≤—Å–µ–≥–¥–∞ –≤ —Å–µ–∫—Ç–æ—Ä–µ 0
            count = count
        });
        return this;
    }
    
    /// <summary>
    /// –°–æ–∑–¥–∞–µ—Ç –ø—Ä–µ—Å–µ—Ç —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
    /// </summary>
    /// <param name="presetName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞</param>
    /// <param name="description">–û–ø–∏—Å–∞–Ω–∏–µ</param>
    /// <param name="tokenValue">–°—Ç–æ–∏–º–æ—Å—Ç—å –≤ —Ç–æ–∫–µ–Ω–∞—Ö</param>
    /// <param name="spawnCooldown">–í—Ä–µ–º—è "–∞—Ñ–∫"</param>
    /// <param name="timerReduction">–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞</param>
    /// <param name="difficultyLevel">–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</param>
    /// <param name="requiredTokens">–¢—Ä–µ–±—É–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã</param>
    /// <returns>–ì–æ—Ç–æ–≤—ã–π –ø—Ä–µ—Å–µ—Ç</returns>
    public PresetData Build(string presetName, string description, int tokenValue, 
        float spawnCooldown, float timerReduction, int difficultyLevel, int requiredTokens)
    {
        return new PresetData
        {
            presetName = presetName,
            description = description,
            tokenValue = tokenValue,
            spawnCooldown = spawnCooldown,
            timerReduction = timerReduction,
            difficultyLevel = difficultyLevel,
            requiredTokens = requiredTokens,
            enemyPlacements = _enemyPlacements.ToArray()
        };
    }
    
    /// <summary>
    /// –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–µ—Å–µ—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ç–æ—Ä–æ–≤.
    /// </summary>
    /// <param name="rotation">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ (0-11)</param>
    /// <returns>–ù–æ–≤—ã–π –±–∏–ª–¥–µ—Ä —Å –ø–æ–≤–µ—Ä–Ω—É—Ç—ã–º –ø—Ä–µ—Å–µ—Ç–æ–º</returns>
    public PresetBuilder Rotate(int rotation)
    {
        var rotatedBuilder = new PresetBuilder();
        
        foreach (var placement in _enemyPlacements)
        {
            int newSection = (placement.relativeSection + rotation) % 12;
            rotatedBuilder.AddEnemy(placement.enemyKind, newSection, placement.count);
        }
        
        return rotatedBuilder;
    }
}
```

public class PresetManager
{
    [SerializeField] private PresetData[] _presets;
    private PresetData _lastUsedPreset;
    
    public PresetData GetRandomAvailablePreset(int currentDifficulty, int availableTokens)
    {
        var availablePresets = _presets.Where(p => 
            p.difficultyLevel <= currentDifficulty &&
            p.requiredTokens <= availableTokens &&
            p != _lastUsedPreset).ToArray();
            
        if (availablePresets.Length == 0) return null;
        
        // –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä
        var selectedPreset = availablePresets[Random.Range(0, availablePresets.Length)];
        _lastUsedPreset = selectedPreset;
        return selectedPreset;
    }
    
    public bool CanUsePreset(int currentDifficulty, int availableTokens)
    {
        return _presets.Any(p => 
            p.difficultyLevel <= currentDifficulty &&
            p.requiredTokens <= availableTokens);
    }
}
```

### **–ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ë–∏–ª–¥–µ—Ä–∞ –ü—Ä–µ—Å–µ—Ç–æ–≤**

#### **1. "–û–∫—Ä—É–∂–µ–Ω–∏–µ" (Surround)**
```csharp
var surroundPreset = new PresetBuilder()
    .SetMainEnemy(EnemyKind.Soul, 1)           // –ì–ª–∞–≤–Ω—ã–π –≤—Ä–∞–≥ –≤ —Å–µ–∫—Ç–æ—Ä–µ 0
    .AddEnemy(EnemyKind.Soul, 3, 1)            // –î—É—à–∞ –≤ —Å–µ–∫—Ç–æ—Ä–µ 3 (—Å–ø—Ä–∞–≤–∞)
    .AddEnemy(EnemyKind.Soul, 9, 1)            // –î—É—à–∞ –≤ —Å–µ–∫—Ç–æ—Ä–µ 9 (—Å–ª–µ–≤–∞)
    .AddEnemy(EnemyKind.Soul, 6, 1)            // –î—É—à–∞ –≤ —Å–µ–∫—Ç–æ—Ä–µ 6 (—Å–∑–∞–¥–∏)
    .Build("Surround", "–û–∫—Ä—É–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –¥—É—à–∞–º–∏", 3, 6f, 1.5f, 0, 3);
```

#### **2. "–ö–ª–µ—â–∏" (Pincer)**
```csharp
public class PincerTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            // –ê—Ç–∞–∫–∞ —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω
            Left = EnemyKind.Skelet,      // –î–∞–ª—å–Ω–∏–π –±–æ–π —Å–ª–µ–≤–∞
            Right = EnemyKind.Knight,     // –ë–ª–∏–∂–Ω–∏–π –±–æ–π —Å–ø—Ä–∞–≤–∞
            Cost = 4,
            Cooldown = 35f
        };
    }
}
```

#### **3. "–ó–∞—Å–∞–¥–∞" (Ambush)**
```csharp
public class AmbushTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            // –ê—Ç–∞–∫–∞ —Å–∑–∞–¥–∏ –∏ —Å–±–æ–∫—É
            Back = EnemyKind.Knight,      // –°–∏–ª—å–Ω—ã–π —Å–∑–∞–¥–∏
            Left = EnemyKind.Soul,        // –ë—ã—Å—Ç—Ä—ã–π —Å–ª–µ–≤–∞
            Right = EnemyKind.Soul,       // –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–∞
            Cost = 4,
            Cooldown = 30f
        };
    }
}
```

#### **4. "–í–æ–ª–Ω–∞ –°–ª–∞–±–æ—Å—Ç–∏" (Weak Wave)**
```csharp
public class WeakWaveTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            // –ú–Ω–æ–≥–æ —Å–ª–∞–±—ã—Ö –≤—Ä–∞–≥–æ–≤
            Front = EnemyKind.Soul,
            FrontLeft = EnemyKind.Soul,
            FrontRight = EnemyKind.Soul,
            Left = EnemyKind.Soul,
            Right = EnemyKind.Soul,
            Cost = 2,
            Cooldown = 20f
        };
    }
}
```

#### **5. "–≠–ª–∏—Ç–Ω–∞—è –ì—Ä—É–ø–ø–∞" (Elite Squad)**
```csharp
public class EliteSquadTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            // –ú–∞–ª–æ —Å–∏–ª—å–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤
            Front = EnemyKind.Knight,
            Back = EnemyKind.Skelet,
            Cost = 5,
            Cooldown = 45f
        };
    }
}
```

#### **6. "–ë–æ—Å—Å + –ú–∏–Ω—å–æ–Ω—ã" (Boss Minions)**
```csharp
public class BossMinionsTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            // 1 —Å–∏–ª—å–Ω—ã–π + –ø–æ–¥–¥–µ—Ä–∂–∫–∞
            Front = EnemyKind.Knight,         // –ë–æ—Å—Å
            FrontLeft = EnemyKind.Soul,       // –ú–∏–Ω—å–æ–Ω
            FrontRight = EnemyKind.Soul,       // –ú–∏–Ω—å–æ–Ω
            Back = EnemyKind.SoulVase,        // –ü–æ–¥–¥–µ—Ä–∂–∫–∞
            Cost = 4,
            Cooldown = 40f
        };
    }
}
```

---

## üéØ –°–ò–°–¢–ï–ú–ê –í–´–ë–û–†–ê –°–ï–ö–¢–û–†–û–í

### **–í—ã–±–æ—Ä –°–µ–∫—Ç–æ—Ä–∞ —Å –ù–∞–∏–º–µ–Ω—å—à–∏–º –í–µ—Å–æ–º (12 –°–µ–∫—Ç–æ—Ä–æ–≤)**
```csharp
/// <summary>
/// –£–º–Ω—ã–π –≤—ã–±–æ—Ä —Å–µ–∫—Ç–æ—Ä–∞ –¥–ª—è —Å–ø–∞—É–Ω–∞ –≤—Ä–∞–≥–æ–≤.
/// –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–µ–∫—Ç–æ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º.
/// –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –¥–ª—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è.
/// </summary>
public class SmartSectionSelection
{
    private Transform _playerTransform;
    private float _spawnRadius = 10f;
    private const int SECTOR_COUNT = 12;        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ç–æ—Ä–æ–≤
    
    /// <summary>
    /// –í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–µ–∫—Ç–æ—Ä –¥–ª—è —Å–ø–∞—É–Ω–∞.
    /// </summary>
    /// <returns>–°–µ–∫—Ç–æ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º (—Å —É—á–µ—Ç–æ–º —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏)</returns>
    public int SelectOptimalSection()
    {
        // –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏ –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤
        var enemyPositions = GetAllEnemyPositions();
        
        // –í—ã—á–∏—Å–ª—è–µ–º –≤–µ—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
        float[] sectionWeights = CalculateSectionWeights(enemyPositions);
        
        // –ù–∞—Ö–æ–¥–∏–º —Å–µ–∫—Ç–æ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º
        int lowestWeightSection = FindLowestWeightSection(sectionWeights);
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å (30% —à–∞–Ω—Å —Å–æ—Å–µ–¥–Ω–µ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞)
        return ApplyRandomness(lowestWeightSection);
    }
    
    private float[] CalculateSectionWeights(Vector3[] enemyPositions)
    {
        float[] weights = new float[SECTOR_COUNT];
        
        for (int i = 0; i < SECTOR_COUNT; i++)
        {
            Vector3 sectionPosition = GetSectionPosition(i);
            
            float totalWeight = 0f;
            foreach (Vector3 enemyPos in enemyPositions)
            {
                float distance = Vector3.Distance(sectionPosition, enemyPos);
                float weight = 1f / (distance + 1f); // –ë–ª–∏–∂–µ = –±–æ–ª—å—à–µ –≤–µ—Å
                totalWeight += weight;
            }
            
            weights[i] = totalWeight;
        }
        
        return weights;
    }
    
    private int FindLowestWeightSection(float[] weights)
    {
        int lowestIndex = 0;
        float lowestWeight = weights[0];
        
        for (int i = 1; i < weights.Length; i++)
        {
            if (weights[i] < lowestWeight)
            {
                lowestWeight = weights[i];
                lowestIndex = i;
            }
        }
        
        return lowestIndex;
    }
    
    private int ApplyRandomness(int targetSection)
    {
        // 70% —à–∞–Ω—Å –≤—ã–±—Ä–∞—Ç—å —Ç–æ—á–Ω—ã–π —Å–µ–∫—Ç–æ—Ä
        // 30% —à–∞–Ω—Å –≤—ã–±—Ä–∞—Ç—å —Å–æ—Å–µ–¥–Ω–∏–π (—Å–ª–µ–≤–∞ –∏–ª–∏ —Å–ø—Ä–∞–≤–∞)
        
        if (Random.value < 0.7f)
        {
            return targetSection; // –¢–æ—á–Ω—ã–π –≤—ã–±–æ—Ä
        }
        else
        {
            // –°–ª—É—á–∞–π–Ω—ã–π —Å–æ—Å–µ–¥–Ω–∏–π —Å–µ–∫—Ç–æ—Ä
            int deviation = Random.Range(0, 2) == 0 ? -1 : 1; // -1 –∏–ª–∏ +1
            int randomIndex = (targetSection + deviation + SECTOR_COUNT) % SECTOR_COUNT;
            return randomIndex;
        }
    }
}
```

### **–í–ª–∏—è–Ω–∏–µ –Ω–∞ –í–µ—Å–∞ –°–µ–∫—Ç–æ—Ä–æ–≤**
- **–£–º–Ω—ã–π –≤—ã–±–æ—Ä** - AI –≤—ã–±–∏—Ä–∞–µ—Ç —Å–µ–∫—Ç–æ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º
- **–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å** - 30% —à–∞–Ω—Å —Å–æ—Å–µ–¥–Ω–µ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏
- **–î–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç—å** - –≤–µ—Å–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞** - —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤ –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### **–û—Å–Ω–æ–≤–Ω–æ–π –ö–ª–∞—Å—Å AI**
```csharp
public class SimpleSpawnerAI : MonoBehaviour
{
    [Header("AI Settings")]
    [SerializeField] private int _defaultTokens = 3;
    [SerializeField] private int _maxTokens = 10;
    
    [Header("Timer Settings")]
    [SerializeField] private Vector2 _spawnIntervalRange = new(3f, 8f);
    [SerializeField] private float _timerReductionPerKill = 0.5f;
    
    [Header("Wave Settings")]
    [SerializeField] private int _waveThreshold = 5;
    [SerializeField] private float _waveDuration = 15f;
    [SerializeField] private int _wavePresetCost = 3;
    
    [Header("Tactical Scenarios")]
    [SerializeField] private TacticalScenario[] _scenarios;
    
    // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    private AITokenSystem _tokenSystem;
    private RandomTimerSystem _timerSystem;
    private AIAfkSystem _afkSystem;
    private TacticalScenario _scenarioSystem;
    private SmartSectionSelection _sectionSelection;
    
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ–ª–Ω—ã
    private bool _isWaveMode = false;
    private float _waveStartTime = 0f;
    
    private void Update()
    {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ "–∞—Ñ–∫" –ª–∏ AI
        if (_afkSystem.IsAfk()) return;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º –≤–æ–ª–Ω—ã
        CheckWaveMode();
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ—Ä–∞ –ª–∏ —Å–ø–∞—É–Ω–∏—Ç—å
        if (_timerSystem.ShouldSpawn())
        {
            DecideSpawnAction();
        }
    }
    
    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–±–∏–π—Å—Ç–≤–µ –≤—Ä–∞–≥–∞
    public void OnEnemyKilled(EnemyKind enemyKind)
    {
        int tokensGained = EnemyTokenValue.GetTokenValue(enemyKind);
        _tokenSystem.AddTokens(tokensGained);
        _timerSystem.OnEnemyKilled();
    }
    
    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞—Å–ø–∞—É–Ω–µ –≤—Ä–∞–≥–∞ (–¥–ª—è –≤–æ–ª–Ω—ã)
    public void OnEnemySpawned(EnemyKind enemyKind)
    {
        if (_isWaveMode)
        {
            int tokensGained = EnemyTokenValue.GetTokenValue(enemyKind);
            _tokenSystem.AddReturnedTokens(tokensGained);
        }
    }
    
    // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ª–∞–º–ø—ã –∏–≥—Ä–æ–∫–æ–º
    public void OnLampActivated()
    {
        _tokenSystem.IncreaseDefaultTokens(2); // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
    }
}
```

### **–õ–æ–≥–∏–∫–∞ –ü—Ä–∏–Ω—è—Ç–∏—è –†–µ—à–µ–Ω–∏–π**
```csharp
private void DecideSpawnAction()
{
    if (_isWaveMode)
    {
        DecideWaveAction();
    }
    else
    {
        DecideNormalAction();
    }
}

private void DecideNormalAction()
{
    // 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã)
    if (_tokenSystem.CanUsePresets)
    {
        var availableScenario = _scenarioSystem.GetRandomAvailableScenario();
        if (availableScenario != null && _tokenSystem.CanAfford(availableScenario.Cost))
        {
            ExecuteTacticalScenario(availableScenario);
            return;
        }
    }
    
    // 2. –û–±—ã—á–Ω—ã–π —Å–ø–∞—É–Ω
    if (_tokenSystem.CanAfford(1))
    {
        SpawnBasicEnemy();
    }
}

private void DecideWaveAction()
{
    // –í —Ä–µ–∂–∏–º–µ –≤–æ–ª–Ω—ã –ø—Ä–µ—Å–µ—Ç—ã –¥–µ—à–µ–≤–ª–µ
    if (_tokenSystem.CanUsePresets)
    {
        var availableScenario = _scenarioSystem.GetRandomAvailableScenario();
        if (availableScenario != null && _tokenSystem.CanAfford(_wavePresetCost))
        {
            ExecuteWaveScenario(availableScenario);
            return;
        }
    }
    
    // –û–±—ã—á–Ω—ã–π —Å–ø–∞—É–Ω –≤ –≤–æ–ª–Ω–µ
    if (_tokenSystem.CanAfford(1))
    {
        SpawnBasicEnemy();
    }
}

private void CheckWaveMode()
{
    if (!_isWaveMode && _tokenSystem.IsWaveMode)
    {
        StartWaveMode();
    }
    else if (_isWaveMode && Time.time - _waveStartTime >= _waveDuration)
    {
        EndWaveMode();
    }
}

private void StartWaveMode()
{
    _isWaveMode = true;
    _waveStartTime = Time.time;
    _timerSystem.SetWaveMode(true);
    Debug.Log("[AI] Wave mode started!");
}

private void EndWaveMode()
{
    _isWaveMode = false;
    _tokenSystem.ResetToDefault();
    _timerSystem.SetWaveMode(false);
    Debug.Log("[AI] Wave mode ended!");
}

private void ExecuteTacticalScenario(TacticalScenario.Scenario scenario)
{
    // –°–ø–∞—É–Ω–∏–º —Å—Ü–µ–Ω–∞—Ä–∏–π
    SpawnScenario(scenario);
    
    // –¢—Ä–∞—Ç–∏–º —Ç–æ–∫–µ–Ω—ã
    int tokensSpent = scenario.Cost;
    _tokenSystem.SpendTokens(tokensSpent);
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–∫–µ–Ω—ã (–ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç)
    _tokenSystem.ReturnTokens(tokensSpent);
    
    // AI —É—Ö–æ–¥–∏—Ç –≤ "–∞—Ñ–∫" –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–∞–º
    _afkSystem.StartAfk(tokensSpent);
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ç–∫–∞—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è
    scenario.lastUsedTime = Time.time;
}

private void SpawnBasicEnemy()
{
    // –û–±—ã—á–Ω—ã–π —Å–ø–∞—É–Ω 1 –≤—Ä–∞–≥–∞
    int tokensSpent = 1;
    _tokenSystem.SpendTokens(tokensSpent);
    _tokenSystem.ReturnTokens(tokensSpent);
    _afkSystem.StartAfk(tokensSpent);
    
    // –°–ø–∞—É–Ω–∏–º —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—Ä–∞–≥–∞ –≤ —Å–ª—É—á–∞–π–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ
    var randomEnemy = GetRandomEnemyKind();
    var randomSection = GetRandomSection();
    SpawnEnemy(randomEnemy, randomSection);
}
```

---

## üìä –ë–ê–õ–ê–ù–°–ò–†–û–í–ö–ê

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°–ª–æ–∂–Ω–æ—Å—Ç–∏**
```csharp
[System.Serializable]
public class SimpleDifficultySettings
{
    [Header("Token Settings")]
    public int maxTokens = 10;
    public int tokensPerKill = 1;
    
    [Header("Timer Settings")]
    public Vector2 spawnIntervalRange = new(3f, 8f);
    
    [Header("Afk Settings")]
    public float afkSecondsPerToken = 2f;
    
    [Header("Scenario Settings")]
    public float scenarioCooldownMultiplier = 1f;
    public int scenarioCostMultiplier = 1;
}
```

### **–ü—Ä–æ—Å—Ç–∞—è –ê–¥–∞–ø—Ç–∞—Ü–∏—è**
```csharp
public class SimpleAdaptiveDifficulty
{
    private SimpleDifficultySettings _settings;
    private float _playerKillRate; // –£–±–∏–π—Å—Ç–≤ –≤ –º–∏–Ω—É—Ç—É
    
    public void AdjustDifficulty()
    {
        if (_playerKillRate > 5f) // –ò–≥—Ä–æ–∫ —É–±–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ
        {
            _settings.spawnIntervalRange.x *= 0.8f;  // –ë—ã—Å—Ç—Ä–µ–µ —Å–ø–∞—É–Ω
            _settings.spawnIntervalRange.y *= 0.8f;
        }
        else if (_playerKillRate < 2f) // –ò–≥—Ä–æ–∫ —É–±–∏–≤–∞–µ—Ç –º–∞–ª–æ
        {
            _settings.spawnIntervalRange.x *= 1.2f;  // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Å–ø–∞—É–Ω
            _settings.spawnIntervalRange.y *= 1.2f;
        }
    }
}

---

## üéØ –ì–û–¢–û–í–´–ï –ü–†–ï–°–ï–¢–´ –¢–ê–ö–¢–ò–ö

### **–î–ª—è 4 –¢–∏–ø–æ–≤ –í—Ä–∞–≥–æ–≤: Soul, SoulVase, Skelet, Knight**

#### **–ë–∞–∑–æ–≤—ã–µ –¢–∞–∫—Ç–∏–∫–∏ (–ù–∏–∑–∫–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å)**
```csharp
// 1. "–ü—Ä–æ—Å—Ç–∞—è –í–æ–ª–Ω–∞" - —Ç–æ–ª—å–∫–æ Soul
public class BasicWaveTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Soul,
            Left = EnemyKind.Soul,
            Right = EnemyKind.Soul,
            Cost = 1,
            Cooldown = 15f
        };
    }
}

// 2. "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" - Soul + SoulVase
public class SupportTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Soul,
            Back = EnemyKind.SoulVase,
            Cost = 2,
            Cooldown = 20f
        };
    }
}
```

#### **–°—Ä–µ–¥–Ω–∏–µ –¢–∞–∫—Ç–∏–∫–∏ (–°—Ä–µ–¥–Ω—è—è –°–ª–æ–∂–Ω–æ—Å—Ç—å)**
```csharp
// 3. "–î–∞–ª—å–Ω–∏–π –ë–æ–π" - Skelet + –ø–æ–¥–¥–µ—Ä–∂–∫–∞
public class RangedTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Skelet,        // –î–∞–ª—å–Ω–∏–π –±–æ–π
            Back = EnemyKind.SoulVase,       // –ü–æ–¥–¥–µ—Ä–∂–∫–∞
            Cost = 3,
            Cooldown = 25f
        };
    }
}

// 4. "–ë–ª–∏–∂–Ω–∏–π –ë–æ–π" - Knight + Soul
public class MeleeTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Knight,       // –°–∏–ª—å–Ω—ã–π –±–ª–∏–∂–Ω–∏–π –±–æ–π
            Left = EnemyKind.Soul,           // –ë—ã—Å—Ç—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∫–∞
            Cost = 3,
            Cooldown = 30f
        };
    }
}
```

#### **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –¢–∞–∫—Ç–∏–∫–∏ (–í—ã—Å–æ–∫–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å)**
```csharp
// 5. "–°–º–µ—à–∞–Ω–Ω–∞—è –ê—Ç–∞–∫–∞" - –≤—Å–µ —Ç–∏–ø—ã
public class MixedAssaultTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Knight,       // –°–∏–ª—å–Ω—ã–π —Ñ—Ä–æ–Ω—Ç
            Back = EnemyKind.Skelet,         // –î–∞–ª—å–Ω–∏–π –±–æ–π —Å–∑–∞–¥–∏
            Left = EnemyKind.Soul,           // –ë—ã—Å—Ç—Ä—ã–π —Å–ª–µ–≤–∞
            Right = EnemyKind.SoulVase,      // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø—Ä–∞–≤–∞
            Cost = 5,
            Cooldown = 40f
        };
    }
}

// 6. "–û–∫—Ä—É–∂–µ–Ω–∏–µ" - 4 –≤—Ä–∞–≥–∞ –ø–æ —É–≥–ª–∞–º
public class SurroundTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            FrontLeft = EnemyKind.Soul,
            FrontRight = EnemyKind.Soul,
            BackLeft = EnemyKind.SoulVase,
            BackRight = EnemyKind.SoulVase,
            Cost = 4,
            Cooldown = 35f
        };
    }
}
```

#### **–≠–ª–∏—Ç–Ω—ã–µ –¢–∞–∫—Ç–∏–∫–∏ (–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å)**
```csharp
// 7. "–î–≤–æ–π–Ω–æ–π –£–¥–∞—Ä" - 2 —Å–∏–ª—å–Ω—ã—Ö –≤—Ä–∞–≥–∞
public class DoubleStrikeTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Knight,       // –°–∏–ª—å–Ω—ã–π —Å–ø–µ—Ä–µ–¥–∏
            Back = EnemyKind.Knight,        // –°–∏–ª—å–Ω—ã–π —Å–∑–∞–¥–∏
            Cost = 6,
            Cooldown = 50f
        };
    }
}

// 8. "–ê—Ä—Ç–∏–ª–ª–µ—Ä–∏—è" - 2 –¥–∞–ª—å–Ω–∏—Ö –±–æ–π—Ü–∞
public class ArtilleryTactic
{
    public EnemyComposition GetComposition()
    {
        return new EnemyComposition
        {
            Front = EnemyKind.Skelet,       // –î–∞–ª—å–Ω–∏–π –±–æ–π —Å–ø–µ—Ä–µ–¥–∏
            Back = EnemyKind.Skelet,        // –î–∞–ª—å–Ω–∏–π –±–æ–π —Å–∑–∞–¥–∏
            Left = EnemyKind.SoulVase,       // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–µ–≤–∞
            Right = EnemyKind.SoulVase,     // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø—Ä–∞–≤–∞
            Cost = 6,
            Cooldown = 45f
        };
    }
}
```

### **–°–∏—Å—Ç–µ–º–∞ –ë–∏–ª–¥–µ—Ä–∞ –¢–∞–∫—Ç–∏–∫**
```csharp
public class TacticBuilder
{
    public static TacticalScenario CreateCustomTactic(string name, 
        EnemyKind[] enemies, 
        SpawnSection[] positions,
        int cost, 
        float cooldown)
    {
        var composition = new EnemyComposition();
        
        for (int i = 0; i < Mathf.Min(enemies.Length, positions.Length); i++)
        {
            composition.SetEnemyAtPosition(positions[i], enemies[i]);
        }
        
        return new TacticalScenario
        {
            Name = name,
            Composition = composition,
            Cost = cost,
            Cooldown = cooldown
        };
    }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–ª–¥–µ—Ä–∞
var customTactic = TacticBuilder.CreateCustomTactic(
    "–ú–æ—è –¢–∞–∫—Ç–∏–∫–∞",
    new EnemyKind[] { EnemyKind.Knight, EnemyKind.Soul, EnemyKind.Soul },
    new SpawnSection[] { SpawnSection.Front, SpawnSection.Left, SpawnSection.Right },
    4, 30f
);
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¢–∞–∫—Ç–∏–∫ –≤ Inspector**
```csharp
[System.Serializable]
public class TacticPreset
{
    [Header("Tactic Info")]
    public string tacticName;
    public string description;
    public DifficultyLevel difficulty;
    
    [Header("Enemy Placement")]
    public EnemyPlacement[] enemyPlacements;
    
    [Header("Cost & Cooldown")]
    public int tokenCost;
    public float cooldownTime;
    
    [Header("Conditions")]
    public bool requiresCalmMode = true;
    public bool requiresWaveMode = false;
    public float minPlayerHealth = 0f;
    public float maxPlayerHealth = 1f;
}

[System.Serializable]
public class EnemyPlacement
{
    public SpawnSection section;
    public EnemyKind enemyType;
    public int count = 1;
}
```

---

## üéÆ –ò–¢–û–ì–û–í–ê–Ø –ü–†–û–°–¢–ê–Ø –°–ò–°–¢–ï–ú–ê

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
1. **–°–∏—Å—Ç–µ–º–∞ –¢–æ–∫–µ–Ω–æ–≤** - –ø–æ–ª—É—á–∞—é—Ç—Å—è –∑–∞ —É–±–∏–π—Å—Ç–≤–∞, —Ç—Ä–∞—Ç—è—Ç—Å—è –Ω–∞ —Å–ø–∞—É–Ω
2. **–°–ª—É—á–∞–π–Ω—ã–µ –¢–∞–π–º–µ—Ä—ã** - –º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–±–∏–π—Å—Ç–≤–∞
3. **–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –°—Ü–µ–Ω–∞—Ä–∏–∏** - —Å –æ—Ç–∫–∞—Ç–æ–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –≤ —Ç–æ–∫–µ–Ω–∞—Ö
4. **–°–∏—Å—Ç–µ–º–∞ "–ê–§–ö"** - AI –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–∞–º
5. **–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å –°–µ–∫—Ç–æ—Ä–æ–≤** - 30% —à–∞–Ω—Å —Å–æ—Å–µ–¥–Ω–µ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
6. **–ì–æ—Ç–æ–≤—ã–µ –ü—Ä–µ—Å–µ—Ç—ã** - 8 —Ç–∞–∫—Ç–∏–∫ –¥–ª—è 4 —Ç–∏–ø–æ–≤ –≤—Ä–∞–≥–æ–≤

---

## üìà –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### **‚úÖ –°–∏—Å—Ç–µ–º–∞ –ì–ª—é–∫–æ–≤ (–ì–æ—Ç–æ–≤–∞ –∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)**
–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–ª—é–∫–æ–≤ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - –∏–≥—Ä–æ–∫ —á—É–≤—Å—Ç–≤—É–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –≥–ª—é–∫–æ–≤
- **–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω–∞—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ç–æ—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å—Ç–æ—Ç—ã –∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏
- **–û—Ç–ª–∞–¥–∫—É** - –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

### **üéØ –ü—Ä–æ—Å—Ç–∞—è –°–∏—Å—Ç–µ–º–∞ –£–º–Ω–æ–≥–æ –°–ø–∞—É–Ω–∞**
–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è –ø—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–Ω—è—Ç–Ω—ã –∏ –ª–µ–≥–∫–æ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è
2. **–¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - 8 —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –±–æ—è
3. **–†–µ—Å—É—Ä—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - AI –¥–æ–ª–∂–µ–Ω –¥—É–º–∞—Ç—å, –∫–∞–∫ —Ç—Ä–∞—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω—ã
4. **–†–∏—Ç–º–∏—á–Ω–æ—Å—Ç—å** - —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ "–∞—Ñ–∫" AI
5. **–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å** - –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –≤ –≤—ã–±–æ—Ä–µ —Å–µ–∫—Ç–æ—Ä–æ–≤
6. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
7. **üé≤ –°–∏—Å—Ç–µ–º–∞ –ì–ª—é–∫–æ–≤** - –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –¥–ª—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏
8. **üé≠ –¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –°—Ü–µ–Ω–∞—Ä–∏–∏** - —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –±–æ–µ–≤—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
9. **‚è∞ –°–ª—É—á–∞–π–Ω—ã–µ –¢–∞–π–º–µ—Ä—ã** - –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è —Å–ø–∞—É–Ω–∞
10. **üéÆ –°–∏—Å—Ç–µ–º–∞ "–ê–§–ö"** - AI –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω –ø–æ—Å–ª–µ –±–æ–ª—å—à–∏—Ö —Ç—Ä–∞—Ç

### **üöÄ –°—Ç–∞—Ç—É—Å –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

#### **‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:**
- **SpawnerEnemysAI** - —É–º–Ω—ã–π AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **–°–∏—Å—Ç–µ–º–∞ –ì–ª—é–∫–æ–≤** - –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å
- **–ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –ê–Ω–∞–ª–∏–∑** - —É–º–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤—Ä–∞–≥–æ–≤
- **–õ–æ–≥–∏–∫–∞ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π –°—Ç–æ—Ä–æ–Ω—ã** - —Å–ø–∞—É–Ω –Ω–∞–ø—Ä–æ—Ç–∏–≤ –Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
- **–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** - –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

#### **üîÑ –¢–†–ï–ë–£–ï–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò:**
- **–°–∏—Å—Ç–µ–º–∞ –¢–æ–∫–µ–Ω–æ–≤** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞ —É–±–∏–π—Å—Ç–≤–∞, —Ç—Ä–∞—Ç–∞ –Ω–∞ —Å–ø–∞—É–Ω
- **–°–ª—É—á–∞–π–Ω—ã–µ –¢–∞–π–º–µ—Ä—ã** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–±–∏–π—Å—Ç–≤–∞
- **–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –°—Ü–µ–Ω–∞—Ä–∏–∏** - 8 –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤ —Å –æ—Ç–∫–∞—Ç–æ–º
- **–°–∏—Å—Ç–µ–º–∞ "–ê–§–ö"** - –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å AI –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Ç—Ä–∞—Ç–∞–º
- **–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å –°–µ–∫—Ç–æ—Ä–æ–≤** - 30% —à–∞–Ω—Å —Å–æ—Å–µ–¥–Ω–µ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
- **–ì–æ—Ç–æ–≤—ã–µ –ü—Ä–µ—Å–µ—Ç—ã** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–∫—Ç–∏–∫ –≤ Inspector

–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∞ –ø–æ—ç—Ç–∞–ø–Ω–æ, –Ω–∞—á–∏–Ω–∞—è —Å **–≥–æ—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≥–ª—é–∫–æ–≤** –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—è –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
